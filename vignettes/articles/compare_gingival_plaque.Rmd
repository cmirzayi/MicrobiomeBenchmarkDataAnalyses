---
title: "compare_gingival_plaque"
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup, message=FALSE}
library(MicrobiomeBenchmarkDataAnalyses)
library(MicrobiomeBenchmarkData)
library(dplyr)
library(purrr)
library(tidyr)
library(ggplot2)
```

```{r}
l <- getBenchmarkData(dryrun = FALSE)
l <- l[grep("gingival", names(l))]
```

```{r}
mats <- dats <- map(l, assay)
row_sums <- map(mats, ~ {
    df <- data.frame(value = rowSums(.x)) |> 
        tibble::rownames_to_column("feature")
}) |> 
    bind_rows(.id = "data")
```

```{r}
row_sums |> 
    mutate(value = log(value + 1)) |> 
    ggplot(aes(value)) +
    geom_histogram(aes(fill = data), binwidth = 0.5) +
    theme_bw()
```
Sparsity:

```{r}
map(mats, \(mat) sum(mat == 0) / (nrow(mat) * ncol(mat)))
```

```{r}
map(mats, nrow)
```

